import{q as p,j as e,Y as j,r as h,b}from"./app-177f901d.js";import{A as m,W as g,I as _,P as f,E as y,D as C}from"./index-fbcf1b82.js";import{C as B,a as T,b as Y,c as d,d as $,e as H}from"./index-3e20d8b5.js";import{F as I}from"./index-92f803b3.js";import{I as O,T as q,a as A,b as l,c as r,d as D,e as t,P as E}from"./index-aa20f8d5.js";import{A as M,H as N,T as P,B as k}from"./AuthLayout-1509ff2e.js";import{a as R}from"./functions-e928f381.js";import{h as i}from"./moment-a9aaa855.js";import{l as F,t as v}from"./index.esm-221377a0.js";const Q=({ordens:n,whats:a,printers:o})=>{const{flash:c,ziggy:x}=p().props;x.query;const u=s=>{switch(s){case 1:return"bg-gray-300/50 border border-gray-300 text-gray-500 text-xs uppercase";case 2:return"bg-cyan-600/50 border border-cyan-600 text-cyan-800 text-xs uppercase";case 3:return"bg-orange-600/50 border border-orange-600 text-orange-800 text-xs uppercase";case 4:return"bg-sky-600/50 border border-sky-600 text-sky-800 text-xs uppercase";case 5:return"bg-red-600/50 border border-red-600 text-red-800 text-xs uppercase";case 6:return"bg-green-600/50 border border-green-600 text-green-800 text-xs uppercase";case 7:return"bg-green-600/50 border border-green-600 text-green-800 text-xs uppercase";case 8:return"bg-blue-600/50 border border-blue-600 text-blue-800 text-xs uppercase"}};return e.jsxs(M,{children:[e.jsx(j,{title:"Ordens"}),e.jsxs(B,{children:[e.jsxs(N,{children:[e.jsxs(P,{children:[e.jsx(F,{size:30}),e.jsx("span",{className:"ml-2 text-",children:"Ordens"})]}),e.jsx(k,{links:[{url:null,label:"Ordens"}]})]}),e.jsxs(T,{children:[e.jsxs(Y,{children:[e.jsx(d,{children:e.jsx(O,{placeholder:"Buscar ordem de serviço",url:"ordens.index"})}),e.jsx(d,{children:e.jsx(m,{url:route("ordens.create"),label:"Ordem"})})]}),e.jsx(I,{message:c}),e.jsx($,{children:e.jsxs(q,{children:[e.jsx(A,{children:e.jsxs(l,{children:[e.jsx(r,{children:"#"}),e.jsx(r,{children:"Nome"}),e.jsx(r,{children:"Telefone"}),e.jsx(r,{children:"Recebimento"}),e.jsx(r,{children:"Equipamento"}),e.jsx(r,{children:"Modelo"}),e.jsx(r,{children:"Status"}),e.jsx(r,{children:"Entrega"}),e.jsx(r,{})]})}),e.jsx(D,{children:n.data.map(s=>e.jsx(h.Fragment,{children:e.jsxs(l,{children:[e.jsx(t,{children:s.id}),e.jsx(t,{children:e.jsx(b,{className:"text-blue-quatro hover:text-blue-quatro/80 font-medium underline",href:`/ordens?oc=${s.cliente_id}`,title:`Ordens do cliente ${s.cliente.nome}`,children:s.cliente.nome})}),e.jsx(t,{children:s.cliente.telefone}),e.jsx(t,{children:i(s.created_at).format("DD/MM/YYYY")}),e.jsx(t,{children:s.equipamento}),e.jsx(t,{children:s.modelo}),e.jsx(t,{children:e.jsx("span",{className:`px-3 py-1  rounded-full font-medium ${u(s.status)}`,children:R(s.status)})}),e.jsx(t,{children:s.dtentrega!="0000-00-00 00:00:00"&&s.dtentrega!==null?i(s.dtentrega).format("DD/MM/YYYY HH:mm"):"__/__/____ __:__"}),e.jsxs(t,{className:"flex items-center justify-end gap-2",children:[e.jsx(g,{url:`https://api.whatsapp.com/send?phone=${encodeURIComponent(s.cliente.whatsapp)}&text=${encodeURIComponent(s.status==6||s.status==7?a==null?void 0:a.concluido:s.status==3?a==null?void 0:a.orcamento:"")}`}),e.jsx(_,{url:`${s.id}`}),o?e.jsx(f,{url:`${s.id}`,status:s.status}):e.jsx("div",{title:"Preencha os dados de impressão em configurações > impressões",className:"py-1.5 px-3 rounded-md shadow bg-gray-200",children:e.jsx(v,{size:18})}),e.jsx(y,{url:`/ordens/${s.id}`,param:n.current_page}),e.jsx(C,{url:"ordens.destroy",param:s.id,identify:`a ordem ${s.id}`})]})]})},s.id))})]})}),e.jsx(H,{children:e.jsx(E,{data:n})})]})]})]})};export{Q as default};
