import{q as N,r as l,W as C,j as e,Y as q,y as w,c as n}from"./app-80855d75.js";import{S as F}from"./index-acc7a3b6.js";import{C as S,a as U,d as z,e as I}from"./index-643997c0.js";import{F as T}from"./index-872c6886.js";import{A as D,H as k,T as B,a as A,B as L}from"./AuthLayout-097a8c04.js";import{i as M,g as m,j as O}from"./index.esm-a92f2c81.js";import{R}from"./index.esm-35c16754.js";import"./moment-a9aaa855.js";const X=({geral:a,clientes:c,ordens:g})=>{const{flash:p}=N().props,[x,o]=l.useState(!1),[i,u]=l.useState(!1),[d,b]=l.useState(!1),{data:t,setData:r,post:E,delete:f,progress:G,processing:h,reset:H,errors:$}=C({bgimage:a.bgimage,bgcolor:a.bgcolor,equtipo:a.equtipo,equestado:a.equestado});function j(s){s.preventDefault(),w.post(`gerais/${a.id}`,{_method:"put",bgimage:t.bgimage,bgcolor:t.bgcolor,equtipo:t.equtipo,equestado:t.equestado})}const v=s=>{s.preventDefault(),f(route("gerais.destroy",a.id))},y=async()=>{o(!0),await n.post("customers",{clientes:c}).then(s=>{u(s.data.response.message),o(!1)}).catch(s=>{console.log(s)}),await n.post("orders",{ordens:g}).then(s=>{b(s.data.response.message),o(!1)}).catch(s=>{console.log(s)})};return e.jsxs(D,{children:[e.jsx(q,{title:"Gerais"}),e.jsxs(S,{children:[e.jsxs(k,{children:[e.jsxs(B,{children:[e.jsx(A,{size:30}),e.jsx("span",{className:"ml-2",children:"Configurações gerais"})]}),e.jsx(L,{links:[{url:null,label:"Configurações gerais"}]})]}),e.jsxs(U,{className:"",children:[e.jsx(T,{message:p}),e.jsxs("form",{onSubmit:j,autoComplete:"off",children:[e.jsxs(z,{className:" border-y border-gray-100 rounded-t-md",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-6",children:[e.jsx("h1",{className:"text-base text-gray-600",children:"Upload de dados ao website de informações sobre clientes e ordens de serviços"}),e.jsx("button",{type:"button",onClick:()=>y(),className:"flex items-center justify-center gap-1 px-3 h-10 bg-blue-600 hover:blue-600/90 text-gray-50 shadow-md rounded-md",children:x?e.jsx(R,{size:22,className:"animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(M,{size:22})," ",e.jsx("span",{children:"Upload"})]})})]}),i&&e.jsxs("div",{className:"flex items-center bg-green-100 p-4 mb-0 text-sm text-green-700 border border-green-200 gap-1",children:[e.jsx(m,{size:20}),i]}),d&&e.jsxs("div",{className:"flex items-center bg-green-100 p-4 mb-0 text-sm text-green-700 border border-green-200 gap-1",children:[e.jsx(m,{size:20}),d]}),a.bgimage&&e.jsxs("div",{className:"relative w-48",children:[e.jsx("div",{className:"absolute rounded-full w-5 h-5 bg-red-500 text-white top-0 right-0",children:e.jsx("button",{onClick:s=>v(s),children:e.jsx(O,{size:20})})}),e.jsx("div",{className:"w-44 my-10",children:e.jsx("img",{src:`/storage/images/${a.bgimage?a.bgimage:""}`,alt:""})})]}),e.jsxs("div",{className:"px-3 my-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"label-form",htmlFor:"bgimage",children:"Imagem de fundo (tela de login)"}),e.jsx("input",{id:"bgimage",type:"file",onChange:s=>r("bgimage",s.target.files[0]),className:`block w-full text-base text-gray-600
                                            file:mr-4 file:py-2.5 file:px-4 file:rounded-l-md
                                            file:border-0 file:text-sm file:font-semibold
                                            file:bg-blue-700 file:text-gray-50 file:cursor-pointer
                                            hover:file:bg-blue-600 border border-gray-300 rounded-md bg-transparent`})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"label-form",htmlFor:"bgcolor",children:"Cor de fundo (tela de login)"}),e.jsx("input",{id:"bgcolor",type:"color",value:t.bgcolor,onChange:s=>r("bgcolor",s.target.value),className:"input-form !p-0 !h-10 w-full"})]})]}),e.jsxs("div",{className:"flex flex-col mt-6",children:[e.jsx("label",{className:"label-form",htmlFor:"equtipo",children:"Tipo de equipamento (separar com ;)"}),e.jsx("textarea",{id:"equtipo",value:t.equtipo,onChange:s=>r("equtipo",s.target.value),className:"input-form",rows:2})]})]})]}),e.jsx(I,{children:e.jsx(F,{value:"Salvar",processing:h})})]})]})]})]})};export{X as default};
