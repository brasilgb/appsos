import{q as S,r as i,W as T,j as e,Y as k,y as I,c}from"./app-1838d4c8.js";import{S as U}from"./index-a79115cb.js";import{C as z,a as B,d as D,e as L}from"./index-f525e2bb.js";import{F as d}from"./index-8172616a.js";import{A as O,H as A,T as E,a as M,B as R}from"./AuthLayout-f1e4e6c2.js";import{g as u,i as G}from"./index.esm-91c63e0c.js";import{R as g}from"./index.esm-784d2567.js";import"./moment-a9aaa855.js";const ee=({geral:a,clientes:p,ordens:x})=>{const{flash:b}=S().props,[f,n]=i.useState(!1),[h,m]=i.useState(!1),[r,j]=i.useState(!1),[t,v]=i.useState(!1),{data:o,setData:l,post:H,delete:N,progress:P,processing:y,reset:$,errors:W}=T({bgimage:a.bgimage,bgcolor:a.bgcolor,equtipo:a.equtipo,equestado:a.equestado,servicos:a.servicos,marcas:a.marcas,modelos:a.modelos});function C(s){s.preventDefault(),I.post(`gerais/${a.id}`,{_method:"put",bgimage:o.bgimage,bgcolor:o.bgcolor,equtipo:o.equtipo,equestado:o.equestado,servicos:o.servicos,marcas:o.marcas,modelos:o.modelos})}const q=s=>{s.preventDefault(),N(route("gerais.destroy",a.id))},w=async()=>{n(!0),await c.post("insert-order",{orders:x}).then(s=>{v(s.data.response.message)}).catch(s=>{console.log(s.message)}).finally(()=>n(!1))},F=async()=>{m(!0),await c.post("insert-user",{customers:p}).then(s=>{j(s.data.response.message)}).catch(s=>{console.log(s.message)}).finally(()=>m(!1))};return e.jsxs(O,{children:[e.jsx(k,{title:"Gerais"}),e.jsxs(z,{children:[e.jsxs(A,{children:[e.jsxs(E,{children:[e.jsx(M,{size:30}),e.jsx("span",{className:"ml-2",children:"Configurações gerais"})]}),e.jsx(R,{links:[{url:null,label:"Configurações gerais"}]})]}),e.jsxs(B,{className:"",children:[e.jsx(d,{message:b}),t&&e.jsx(d,{message:t}),r&&e.jsx(d,{message:r}),e.jsxs("form",{onSubmit:C,autoComplete:"off",children:[e.jsxs(D,{className:" border-y border-gray-100 rounded-t-md",children:[e.jsxs("div",{className:"flex items-center p-4",children:[e.jsxs("button",{type:"button",onClick:()=>w(),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-600/90 py-1.5 px-8 text-sm text-white rounded-md border-2 border-blue-200 uppercase shadow-md",children:["Push de ordens ao site",f&&e.jsx(g,{className:"animate-spin"})]}),e.jsxs("button",{type:"button",onClick:()=>F(),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-600/90 py-1.5 px-8 text-sm text-white rounded-md border-2 border-blue-200 uppercase shadow-md",children:["Push de clientes ao site",h&&e.jsx(g,{className:"animate-spin"})]})]}),r&&e.jsxs("div",{className:"flex items-center bg-green-100 p-4 mb-0 text-sm text-green-700 border border-green-200 gap-1",children:[e.jsx(u,{size:20}),r]}),t&&e.jsxs("div",{className:"flex items-center bg-green-100 p-4 mb-0 text-sm text-green-700 border border-green-200 gap-1",children:[e.jsx(u,{size:20}),t]}),a.bgimage&&e.jsxs("div",{className:"relative w-48",children:[e.jsx("div",{className:"absolute rounded-full w-5 h-5 bg-red-500 text-white top-0 right-0",children:e.jsx("button",{onClick:s=>q(s),children:e.jsx(G,{size:20})})}),e.jsx("div",{className:"w-44 my-10",children:e.jsx("img",{src:`/storage/images/${a.bgimage?a.bgimage:""}`,alt:""})})]}),e.jsxs("div",{className:"px-3 my-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"label-form",htmlFor:"bgimage",children:"Imagem de fundo (tela de login)"}),e.jsx("input",{id:"bgimage",type:"file",onChange:s=>l("bgimage",s.target.files[0]),className:`block w-full text-base text-gray-600
                                            file:mr-4 file:py-2.5 file:px-4 file:rounded-l-md
                                            file:border-0 file:text-sm file:font-semibold
                                            file:bg-blue-700 file:text-gray-50 file:cursor-pointer
                                            hover:file:bg-blue-600 border border-gray-300 rounded-md bg-transparent`})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"label-form",htmlFor:"bgcolor",children:"Cor de fundo (tela de login)"}),e.jsx("input",{id:"bgcolor",type:"color",value:o.bgcolor,onChange:s=>l("bgcolor",s.target.value),className:"input-form !p-0 !h-10 w-full"})]})]}),e.jsxs("div",{className:"flex flex-col mt-6",children:[e.jsx("label",{className:"label-form",htmlFor:"equtipo",children:"Tipo de equipamento (separar com ;)"}),e.jsx("textarea",{id:"equtipo",value:o.equtipo,onChange:s=>l("equtipo",s.target.value),className:"input-form",rows:2})]}),e.jsxs("div",{className:"flex flex-col mt-6",children:[e.jsx("label",{className:"label-form",htmlFor:"equestado",children:"Estado do equipamento (separar com ;)"}),e.jsx("textarea",{id:"equestado",value:o.equestado,onChange:s=>l("equestado",s.target.value),className:"input-form",rows:2})]})]})]}),e.jsx(L,{children:e.jsx(U,{value:"Salvar",processing:y})})]})]})]})]})};export{ee as default};
