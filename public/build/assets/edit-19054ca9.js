import{q as f,W as u,r as j,j as e,Y as v,c as N}from"./app-704a435a.js";import{B as g,S as b}from"./index-f1c2907c.js";import{C,a as F,b as y,c as m,d as w,e as B}from"./index-8c3781b5.js";import{F as E}from"./index-12680135.js";import{A as k,H as L,T,B as P}from"./AuthLayout-6ace5cc5.js";import{m as S,a as H,b as i,u as A}from"./mask-c14164de.js";import{d as D}from"./index.esm-3c1fcdd5.js";import"./moment-a9aaa855.js";const $=({clientes:s})=>{const{flash:d}=f().props,{data:t,setData:l,patch:x,progress:M,processing:W,errors:o,setDefaults:q}=u({cpf:s==null?void 0:s.cpf,nascimento:s.nascimento,nome:s.nome,email:s.email,cep:s.cep,uf:s.uf,cidade:s.cidade,bairro:s.bairro,endereco:s.endereco,complemento:s.complemento,telefone:s.telefone,whatsapp:s.whatsapp,contato:s.contato,telcontato:s.telcontato,obs:s.obs});async function p(a){a.preventDefault(),x(route("clientes.update",s.id)),await N.post("insert-user",{customers:[{id:s.id,nome:t.nome,cpf:t.cpf,email:t.email}]}).then(c=>{console.log(c.data.response.message)}).catch(c=>{console.log(c)})}const h=a=>{const c=A(a);fetch(`https://viacep.com.br/ws/${c}/json/`).then(r=>r.json()).then(r=>{l(n=>({...n,uf:r.uf})),l(n=>({...n,cidade:r.localidade})),l(n=>({...n,bairro:r.bairro})),l(n=>({...n,endereco:r.logradouro})),l(n=>({...n,complemento:r.complemento}))}).catch(r=>console.error(r))};return j.useEffect(()=>{},[]),e.jsxs(k,{children:[e.jsx(v,{title:"Clientes"}),e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsxs(T,{children:[e.jsx(D,{size:30}),e.jsx("span",{className:"ml-2",children:"Clientes"})]}),e.jsx(P,{links:[{url:"/clientes",label:"Clientes"},{url:null,label:"Adicionar Cliente"}]})]}),e.jsxs(F,{children:[e.jsx(E,{message:d}),e.jsxs(y,{children:[e.jsx(m,{children:e.jsx(g,{url:"/clientes",label:"Voltar"})}),e.jsx(m,{children:e.jsx(e.Fragment,{})})]}),e.jsxs("form",{onSubmit:p,autoComplete:"off",children:[e.jsx(w,{className:" border-y border-gray-100",children:e.jsxs("div",{className:"px-3 my-4",children:[e.jsxs("div",{className:"grid grid-cols-6 gap-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"label-form",htmlFor:"cpf",children:"CPF/CNPJ"}),e.jsx("input",{id:"cpf",type:"text",value:t.cpf?S(t.cpf):"",onChange:a=>l("cpf",a.target.value),className:"input-form",maxLength:18}),o.cpf&&e.jsx("div",{className:"text-sm text-red-500",children:o.cpf})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"label-form",htmlFor:"nascimento",children:"Nascimento"}),e.jsx("input",{id:"nascimento",type:"date",value:t.nascimento,onChange:a=>l("nascimento",a.target.value),className:"input-form"})]}),e.jsxs("div",{className:"flex flex-col col-span-2",children:[e.jsx("label",{className:"label-form",htmlFor:"nome",children:"Nome"}),e.jsx("input",{id:"nome",type:"text",value:t.nome,onChange:a=>l("nome",a.target.value),className:"input-form"}),o.nome&&e.jsx("div",{className:"text-sm text-red-500",children:o.nome})]}),e.jsxs("div",{className:"flex flex-col col-span-2",children:[e.jsx("label",{className:"label-form",htmlFor:"email",children:"E-mail"}),e.jsx("input",{id:"email",type:"text",value:t.email,onChange:a=>l("email",a.target.value),className:"input-form"}),o.email&&e.jsx("div",{className:"text-red-500",children:o.email})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-4 mt-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"label-form",htmlFor:"cep",children:"CEP"}),e.jsx("input",{id:"cep",type:"text",value:H(t.cep),onChange:a=>l("cep",a.target.value),onBlur:a=>h(a.target.value),className:"input-form",maxLength:9})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"label-form",htmlFor:"uf",children:"UF"}),e.jsx("input",{id:"uf",type:"text",value:t.uf,onChange:a=>l("uf",a.target.value),className:"input-form"})]}),e.jsxs("div",{className:"flex flex-col col-span-2",children:[e.jsx("label",{className:"label-form",htmlFor:"cidade",children:"Cidade"}),e.jsx("input",{id:"cidade",type:"text",value:t.cidade,onChange:a=>l("cidade",a.target.value),className:"input-form"})]}),e.jsxs("div",{className:"flex flex-col col-span-2",children:[e.jsx("label",{className:"label-form",htmlFor:"bairro",children:"Bairro"}),e.jsx("input",{id:"bairro",type:"text",value:t.bairro,onChange:a=>l("bairro",a.target.value),className:"input-form"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[e.jsxs("div",{className:"flex flex-col col-span-2",children:[e.jsx("label",{className:"label-form",htmlFor:"endereco",children:"Endereço"}),e.jsx("input",{id:"endereco",type:"text",value:t.endereco,onChange:a=>l("endereco",a.target.value),className:"input-form"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"label-form",htmlFor:"complemento",children:"Complemento"}),e.jsx("input",{id:"complemento",type:"text",value:t.complemento,onChange:a=>l("complemento",a.target.value),className:"input-form"})]})]}),e.jsxs("div",{className:"grid grid-cols-5 gap-4 mt-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"label-form",htmlFor:"telefone",children:"Telefone"}),e.jsx("input",{id:"telefone",type:"text",value:i(t.telefone),onChange:a=>l("telefone",a.target.value),className:"input-form",maxLength:15}),o.telefone&&e.jsx("div",{className:"text-sm text-red-500",children:o.telefone})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"label-form",htmlFor:"whatsapp",children:"Whatsapp(Ex: 5551985471163)"}),e.jsx("input",{id:"whatsapp",type:"text",value:t.whatsapp,onChange:a=>l("whatsapp",a.target.value),className:"input-form",maxLength:13}),o.whatsapp&&e.jsx("div",{className:"text-sm text-red-500",children:o.whatsapp})]}),e.jsxs("div",{className:"flex flex-col col-span-2",children:[e.jsx("label",{className:"label-form",htmlFor:"contato",children:"Contato"}),e.jsx("input",{id:"contato",type:"text",value:t.contato,onChange:a=>l("contato",a.target.value),className:"input-form"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"label-form",htmlFor:"telcontato",children:"Telefone contato"}),e.jsx("input",{id:"telcontato",type:"text",value:i(t.telcontato),onChange:a=>l("telcontato",a.target.value),className:"input-form",maxLength:15})]})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"label-form",htmlFor:"obs",children:"Observação"}),e.jsx("textarea",{id:"obs",value:t.obs,onChange:a=>l("obs",a.target.value),className:"input-form"})]})})]})}),e.jsx(B,{children:e.jsx(b,{})})]})]})]})]})};export{$ as default};
