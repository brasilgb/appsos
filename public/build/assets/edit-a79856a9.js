import{q as N,W as b,r as o,j as e,Y as C}from"./app-29f15fe2.js";import{B as S,S as F}from"./index-c8a190c0.js";import{C as y,a as k,b as B,c as x,d as M,e as A}from"./index-55c22781.js";import{F as D}from"./index-c7520886.js";import{A as E,H,T,G as O,B as P}from"./AuthLayout-bdba9fbe.js";import{e as G,d as I}from"./mask-c14164de.js";import"./index.esm-ebdd7ecc.js";import"./moment-a9aaa855.js";const J=({orcamento:l,servicos:n,marcas:m,modelos:c})=>{const{errors:r,flash:h}=N().props,{data:a,setData:i,patch:p,progress:R,processing:v}=b({servico:l==null?void 0:l.servico,marca:l==null?void 0:l.marca,modelo:l==null?void 0:l.modelo,descricao:l==null?void 0:l.descricao,valor:l==null?void 0:l.valor,simples:l==null?void 0:l.simples}),[d,j]=o.useState(c.filter(s=>s.marca_id==(l==null?void 0:l.marca)));function t(s){const f=c.filter(g=>parseInt(g.marca_id)===parseInt(s));j(f)}o.useEffect(()=>{a.valor&&i("valor",G(a.valor.toString()))},[a]);function u(s){s.preventDefault(),p(route("orcamentos.update",l==null?void 0:l.id))}return e.jsxs(E,{children:[e.jsx(C,{title:"Produtos"}),e.jsxs(y,{children:[e.jsxs(H,{children:[e.jsxs(T,{children:[e.jsx(O,{size:30}),e.jsx("span",{className:"ml-2",children:"Orçamentos"})]}),e.jsx(P,{links:[{url:"/orcamentos",label:"Orçamentos"},{url:null,label:"Adicionar orcamento"}]})]}),e.jsxs(k,{children:[e.jsx(D,{message:h}),e.jsxs(B,{children:[e.jsx(x,{children:e.jsx(S,{url:"/orcamentos",label:"Voltar"})}),e.jsx(x,{children:e.jsx(e.Fragment,{})})]}),e.jsxs("form",{onSubmit:u,autoComplete:"off",children:[e.jsx(M,{className:" border-y border-gray-100",children:e.jsxs("div",{className:"px-3 my-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"label-form",htmlFor:"servico",children:"Serviço"}),e.jsxs("select",{id:"servico",value:a.servico,onChange:s=>{i("servico",s.target.value),t(s.target.value)},className:"input-form",children:[e.jsx("option",{value:"",children:"Selecione o serviço"}),n.map(s=>e.jsx("option",{value:s.id,children:s.servico},s.id))]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"label-form",htmlFor:"marca",children:"Marca de Produto"}),e.jsxs("select",{id:"marca",value:a.marca,onChange:s=>{i("marca",s.target.value),t(s.target.value)},className:"input-form",children:[e.jsx("option",{value:"",children:"Selecione a marca"}),m.map(s=>e.jsx("option",{value:s.id,children:s.marca},s.id))]}),r.marca&&e.jsx("div",{className:"text-sm text-red-500",children:r.marca})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"label-form",htmlFor:"modelo",children:"Modelo Produto"}),e.jsxs("select",{id:"modelo",value:a.modelo,onChange:s=>i("modelo",s.target.value),className:"input-form",children:[e.jsx("option",{value:"",children:"Selecione o modelo"}),d==null?void 0:d.map(s=>e.jsx("option",{value:s.id,children:s.modelo},s.id))]}),r.modelo&&e.jsx("div",{className:"text-sm text-red-500",children:r.modelo})]})]}),e.jsxs("div",{className:"grid grid-cols-5 gap-4 mt-4",children:[e.jsxs("div",{className:"flex flex-col col-span-2",children:[e.jsx("label",{className:"label-form",htmlFor:"descricao",children:"Descrição"}),e.jsx("textarea",{id:"descricao",value:a.descricao,onChange:s=>i("descricao",s.target.value),className:"input-form"}),r.descricao&&e.jsx("div",{className:"text-sm text-red-500",children:r.descricao})]}),e.jsxs("div",{className:"flex flex-col col-span-2",children:[e.jsx("label",{className:"label-form",htmlFor:"valor",children:"Valor do Serviço"}),e.jsx("input",{id:"valor",type:"text",value:I(a.valor.toString()),onChange:s=>i("valor",s.target.value),className:"input-form"}),r.valor&&e.jsx("div",{className:"text-sm text-red-500",children:r.valor})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"label-form",htmlFor:"simples",children:"Serviço simples"}),e.jsx("input",{id:"simples",type:"checkbox",checked:a.simples,onChange:s=>i("simples",s.target.checked),className:"input-form"})]})]})]})}),e.jsx(A,{children:e.jsx(F,{disabled:v})})]})]})]})]})};export{J as default};
